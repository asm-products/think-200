%div{class: "app-tile panel panel-"+status_class_for(app) }

  -# The App name
  .panel-heading
    .row
      .col-sm-10
        %h3 
          = app.name 
      .col-sm-2
        %a.btn.btn-default.pull-right.btn-xs{href: new_requirement_path(app_id: app.id), role: 'button'}
          = fa_icon 'fa-plus'
        %a.btn.btn-default.pull-right.btn-xs{href: edit_app_path(app), role: 'button'}
          = fa_icon 'fa-pencil'

  -# A table of the App's Requirements
  .table-responsive
    %table.table
      %thead
      %tbody

        -# One row for the Requirement name
        - app.requirements.each do |req| 
          %tr
            %th{colspan: "3", style: 'vertical-align: bottom'}
              .row
                .col-sm-10
                  %h4
                    = req
                .col-sm-2
                  %a.btn.btn-default.pull-right.btn-xs{href: edit_requirement_path(req), role: 'button'}
                    = fa_icon 'fa-pencil'


          -# Rows for the Expectations
          - req.expectations.each do |exp|
            %tr{class: 'text-'+status_class_for(exp, only: 'danger')}
              %td{style: "text-align: center"}= status_icon_for(exp, 'fa-lg')
              %td{style: 'width: 1px; white-space: nowrap'}
                %strong= exp.subject
              %td
                %span.text-semi-muted
                  should
                = fa_icon(exp.matcher.icon, 'fa-fw')
                = exp.matcher
                %strong
                  = exp.expected



